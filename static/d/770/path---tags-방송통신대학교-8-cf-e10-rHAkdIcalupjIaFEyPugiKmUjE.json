{"data":{"site":{"siteMetadata":{"title":"Pil Developer Diary","author":"PIL","labels":[{"tag":"algorithm","tech":"Algorithm","name":"DiCode","size":20,"color":"deepskyblue"},{"tag":"react","tech":"React","name":"DiReact","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":20,"color":"lightgreen"},{"tag":"git","tech":"Git","name":"DiGitMerge","size":20,"color":"white"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":20,"color":"yellow"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":20,"color":"teal"},{"tag":"python","tech":"Python","name":"DiPython","size":20,"color":"deepskyblue"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":20,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":20,"color":"wheat"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":20,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":20,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":20,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":20,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":20,"color":"deepskyblue"}]}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"excerpt":"계속 홈페이지에서 접속해 새로고침 및 조회를 누르는게 너무 귀찮아서 만든스크립트스크립트는 다음과 같으며, 개발자도구 콘솔에서 iframeContents를 설정해줘야 정상적으로 작동한다.만약, 본인이 쓰길 원한다면 상황에 맞게 변환하여 쓰도록 해야한다.또한, 문제가 될 수있는 api부분은 삭제하였다. 직접 찾아서 쓰길 바란다.","html":"<p>계속 홈페이지에서 접속해 새로고침 및 조회를 누르는게 너무 귀찮아서 만든스크립트</p>\n<p>스크립트는 다음과 같으며, 개발자도구 콘솔에서 iframeContents를 설정해줘야 정상적으로 작동한다.</p>\n<p>만약, 본인이 쓰길 원한다면 상황에 맞게 변환하여 쓰도록 해야한다.</p>\n<p>또한, 문제가 될 수있는 api부분은 삭제하였다. 직접 찾아서 쓰길 바란다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> studentId <span class=\"token operator\">=</span> <span class=\"token string\">'xxxxxx-xxxxxx'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 본인 학번</span>\n<span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// API BASE URL을 찾아서 쓰도록해야함.</span>\n<span class=\"token keyword\">const</span> api <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?&amp;yosa=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&amp;seme=1&amp;stno=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>studentId<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n<span class=\"token keyword\">const</span> timer <span class=\"token operator\">=</span> <span class=\"token number\">30000</span> <span class=\"token comment\">// 몇초에 한번 자동으로 실행할지 설정 (1000 = 1초)</span>\n<span class=\"token keyword\">let</span> isChange <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> intervalld <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        api<span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">success</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token operator\">++</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">번째 실행`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">const</span> scoreEls <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#jqgrid1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td[aria-describedby=\"jqgrid1_sc\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            scoreEls<span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> beforeScore <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">const</span> afterScore <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>sc<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>beforeScore <span class=\"token operator\">!==</span> afterScore<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    item<span class=\"token punctuation\">.</span>innerHtml <span class=\"token operator\">=</span> afterScore<span class=\"token punctuation\">;</span>\n                    isChange <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>scoreEls<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">===</span> index <span class=\"token operator\">&amp;&amp;</span> isChange<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'점수가 변경되었습니다.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    isChange <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>intervalld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","id":"218759e0-47a5-525d-baca-8b5958cbadca","frontmatter":{"title":"방통대 학점 조회 스크립트","date":"July, 2020","tags":["방송통신대학교","javascript"]},"fields":{"slug":"/etc/universityScript/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tag":"방송통신대학교"}}